<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Advanced One-Hour Roster (Debug Mode)</title>
  <style>
    /* ... (existing styles remain unchanged) ... */
  </style>
</head>
<body>

  <h2>Advanced One-Hour Roster (Debug Mode)</h2>

  <!-- Date & Day Selection -->
  <div class="inline-block">
    <label for="rosterDate">Date:</label>
    <input type="date" id="rosterDate" />
  </div>
  <div class="inline-block">
    <label for="rosterDay">Day:</label>
    <select id="rosterDay">
      <option value="Monday">Monday</option>
      <option value="Tuesday">Tuesday</option>
      <option value="Wednesday">Wednesday</option>
      <option value="Thursday">Thursday</option>
      <option value="Friday">Friday</option>
      <option value="Saturday">Saturday</option>
      <option value="Sunday">Sunday</option>
    </select>
  </div>

  <!-- Staff Table -->
  <table id="staffTable">
    <thead>
      <tr>
        <th>Staff ID</th>
        <th>Name</th>
        <th>Break Time (Start - End)</th>
        <th>HHMD Eligible?</th>
        <th>Attendance</th>
        <th>Lock</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows loaded from localStorage -->
    </tbody>
  </table>

  <!-- Roster Buttons -->
  <button type="button" id="addStaff">Add Staff</button>
  <button type="button" id="generateRoster">Generate Roster</button>
  <button type="button" id="sendWhatsApp">Send via WhatsApp</button>

  <!-- Export / Import Buttons -->
  <button type="button" id="exportStaffData">Export Staff Data</button>
  <input type="file" id="importFile" accept=".json" style="display:none;" />
  <button type="button" id="importStaffDataBtn">Import Staff Data</button>

  <h3>Generated Staff Roster</h3>
  <div id="rosterContainer"></div>

  <h4>Notes & Shortfalls</h4>
  <div id="notesContainer"></div>

  <script>
    // ... (existing constants and config remain unchanged) ... 

    /*******************************************************
     *            INITIALIZATION (ON LOAD)
     *******************************************************/
    window.onload = function() {
      loadStaffList();

      // Attach event listeners to buttons
      document.getElementById('addStaff').addEventListener('click', addStaff);
      document.getElementById('generateRoster').addEventListener('click', generateRoster);
      document.getElementById('sendWhatsApp').addEventListener('click', sendWhatsApp);
      document.getElementById('exportStaffData').addEventListener('click', exportStaffData);
      document.getElementById('importStaffDataBtn').addEventListener('click', function() {
        document.getElementById('importFile').click();
      });
      document.getElementById('importFile').addEventListener('change', importStaffData);
    };

    // ... (rest of the existing script functions remain unchanged) ...

    /*******************************************************
     *         WHATSAPP SHARING
     *******************************************************/
    function sendWhatsApp() {
      // ... (existing code) ...
    }

    /*******************************************************
     *         EXPORT & IMPORT STAFF DATA
     *******************************************************/
    function exportStaffData() {
      // ... (existing code) ...
    }

    function importStaffData(event) {
      // ... (existing code) ...
    }
  </script>
</body>
</html>