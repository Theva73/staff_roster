<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roster ILP Example</title>
  <script src="https://unpkg.com/javascript-lp-solver@0.4.24/dist/solver.js"></script>
</head>
<body>
  <h1>Roster ILP Example</h1>
  <script>
    // Example data: a simplified roster problem.
    // Let's assume we have 2 time slots and 2 staff members for demonstration.
    // In practice, you'll define all your slots (e.g., 20:00 to 07:00, plus half-hour slots)
    // and incorporate your constraints (HHMD eligibility, break times, etc.).

    // Define the model:
    const model = {
      "optimize": "dummy",  // dummy objective if you just need feasibility
      "opType": "min",      // or "max"
      "constraints": {
        // Example: For each time slot, the sum of assignments must equal required number.
        // Let's say at slot "20:00", we require 1 assignment.
        "slot_20_00": { "equal": 1 },
        "slot_21_00": { "equal": 1 }
      },
      "variables": {
        // Each variable represents assigning a particular staff member to a slot.
        // For example, x_4511_20: assignment of staff 4511 to 20:00.
        "x_4511_20": {
          "slot_20_00": 1,
          // You can add a "break" flag if staff 4511 is on break during 20:00,
          // then you simply do not define this variable or set it to 0.
          "dummy": 1
        },
        "x_6288_20": {
          "slot_20_00": 1,
          "dummy": 1
        },
        "x_4511_21": {
          "slot_21_00": 1,
          "dummy": 1
        },
        "x_6288_21": {
          "slot_21_00": 1,
          "dummy": 1
        }
      },
      "ints": {
        // All assignment variables must be integer (0 or 1).
        "x_4511_20": 1,
        "x_6288_20": 1,
        "x_4511_21": 1,
        "x_6288_21": 1
      }
    };

    // Add additional constraints programmatically:
    // For instance, to prevent double booking, you can enforce that for each staff, the sum of
    // assignments across overlapping time slots must be <= 1.
    // Similarly, if a staff is on break at a given slot, you would simply not include that variable
    // or force it to 0.

    // Solve the model:
    const results = solver.Solve(model);
    console.log("ILP Results:", results);

    // Process the results to build your roster.
    // For example, if results.x_4511_20 == 1, then staff 4511 is assigned to 20:00.
  </script>
</body>
</html>
